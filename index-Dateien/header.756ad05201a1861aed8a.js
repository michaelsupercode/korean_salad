"use strict";(self.webpackChunksource=self.webpackChunksource||[]).push([[600],{864:(e,t,s)=>{var i=s(211);var n=s(646),a=s(606),o=s(24),r=s(434);var p=s(902),c=s(674),d=s(148),l=s(670),u=s(358),h=s(117);var g=s(540),y=s(21);class A{constructor(e,t){e&&(this.el=e,this.list=this.el.querySelector('[data-breakingnews-el="list"]'),this.prototypeDefault=y.A.createHtmlStringByPrototypeId("prototype-breaking-news-default"),this.prototypeTextOnly=y.A.createHtmlStringByPrototypeId("prototype-breaking-news-textonly"),this.resizeObserver=null,this._height=0,this.exposeHeightInCSS="fullsize"===o.A.instance.editorial?.category.style,this.list&&this.prototypeDefault&&this.prototypeTextOnly&&(window.ResizeObserver&&(this.resizeObserver=new ResizeObserver((e=>this.onResize(e))),this.resizeObserver.observe(this.el)),t&&Array.isArray(t)&&t.length>0?this.refreshItems(t):window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(i.TD,this.onBreakingNewsChanged,this)))}onBreakingNewsChanged(e){e&&Array.isArray(e)&&this.refreshItems(e)}onResize(e){e&&e[0]&&e[0].contentRect&&(this.height=e[0].contentRect.height)}refreshItems(e){if(!e||!Array.isArray(e))return;for(;this.list.firstChild;)this.list.removeChild(this.list.firstChild);const t=document.documentElement;0===e.length?(t.classList.remove("has-breaking-news"),this.el.classList.add("hidden")):(t.classList.add("has-breaking-news"),this.el.classList.remove("hidden"),e.forEach((e=>{if(e.headline){const t=e.url?this.prototypeDefault:this.prototypeTextOnly,s=y.A.populateHtmlString(t,e);this.list.insertAdjacentHTML("beforeend",s)}})))}get height(){return this._height}set height(e){"number"==typeof e&&e!==this._height&&(this._height=e,this.exposeHeightInCSS&&(0===e?document.documentElement.style.removeProperty("--polygon-breakingnews-height"):document.documentElement.style.setProperty("--polygon-breakingnews-height",`${e}px`)))}}var m=s(766);class f{execute(){let e=[];if(m.A.getItem(g.AZ.breakingNews.name)){let t;try{t=JSON.parse(m.A.getItem(g.AZ.breakingNews.name))}catch(e){}if(t){const s=o.A.instance,i=s.cacheControl&&s.cacheControl.breakingnews&&Number.isInteger(s.cacheControl.breakingnews.sessionStorageMaxAge)?s.cacheControl.breakingnews.sessionStorageMaxAge:900,n=Date.now()-1e3*i;t.updated_at&&t.updated_at>=n&&t.items&&Array.isArray(t.items)&&t.items.length>0&&(e=t.items)}}const t=document.querySelector("[data-breakingnews]");t&&(window.polygon.breakingNewsRenderer=new A(t,e))}}var w=s(987);window.SARAs_data=window.SARAs_data||[],window.polygon=window.polygon||{},window.polygon.componentLoader=new class{constructor(){this.subscriptions=[],this.publications=[]}subscribe(...e){this.subscriptions.push(e)}publish(...e){this.publications.push(e)}destroy(e){if(e&&"function"==typeof e.subscribe&&"function"==typeof e.publish){for(window.polygon&&(window.polygon.componentLoader=e);this.subscriptions.length>0;){const t=this.subscriptions.pop();e.subscribe(...t)}for(;this.publications.length>0;){const t=this.publications.pop();e.publish(...t)}}}},window.addEventListener(i.w6,(()=>{(new f).execute()})),window.navigator.webBridge=new class{globalFontsize(e){if(e){const t={"typo-xs":"12px","typo-s":"14px","typo-m":"16px","typo-l":"18px","typo-xl":"20px"},s=o.A.instance,i=void 0!==s&&void 0!==s.page&&void 0!==s.page.category&&void 0!==s.page.category.route?s.page.category.route:void 0,n=t[e];void 0!==i&&n&&(document.querySelector("html").style.fontSize=n,window.dispatchEvent(new Event("resize")))}}hyphenation(e){e?document.documentElement.classList.add("hyphenated"):document.documentElement.classList.remove("hyphenated")}onPageResume(e,t,s="app"){a.A.publish(i.wZ,{referrer:e,trigger:t,platform:s})}outbrainFurtherReadsContainerReady(e){e&&a.A.publish(i.Uo,e)}outbrainTopReadsContainerReady(e){e&&a.A.publish(i.vA,e)}targetAdPositionLoaded(e){let t="",s=!0;if("string"==typeof e&&e)t=e;else{if("object"!=typeof e||null===e||Array.isArray(e))return;t=e.pos||"",s="boolean"!=typeof e.containsAd||e.containsAd}t&&a.A.publish(i.gY,t,s)}triggerRegister(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault();const t=e&&e.targetUrl?e.targetUrl:"";a.A.publish(i.pS,{targetUrl:t})}triggerLogin(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault();const t=e&&e.targetUrl?e.targetUrl:"";a.A.publish(i.fX,{targetUrl:t})}triggerLogout(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault(),a.A.publish(i.cs)}triggerAccount(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault(),a.A.publish(i.h$)}triggerOffer(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault();const t=e&&e.product?e.product:"paid",s=e&&e.plan?e.plan:"default",n=e&&e.targetUrl?e.targetUrl:void 0;a.A.publish(i.MG,{product:t,plan:s,targetUrl:n})}triggerRestorePurchases(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault();const t=e&&e.targetUrl?e.targetUrl:void 0;a.A.publish(i.F,{targetUrl:t})}triggerNavigation(e=void 0){e&&"function"==typeof e.preventDefault&&e.preventDefault();const t=e&&e.page?e.page:void 0,s=e&&e.targetUrl?e.targetUrl:void 0;t&&a.A.publish(i.Ox,{page:t,targetUrl:s})}getTeaserImageSrc(e){const t=o.A.instance;return e&&t.urls&&"string"==typeof t.urls.assetsBasePath?`${t.urls.assetsBasePath}/assets/image/${e}_tm.jpg`:""}switchLanguage(e){e&&void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(i.Fw,e)}toggleToc(){const e={id:n.uO};this.sendMessage(JSON.stringify(e))}sendMessage(e){let t;try{t=JSON.parse(e)}catch(e){return}t&&t.id&&a.A.publish(i.yv,t)}get userAccess(){const e=r.A.instance;return{paid:e.hasPaidAccess,noAds:e.hasNoAdsAccess}}get userIsLoggedIn(){return r.A.instance.isLoggedIn}get domain(){return o.A.instance.domain}},window.polygon.cookies=window.polygon.cookies||{};(new class{constructor(){this.user=r.A.instance,this.route=d.A.instance,this.appBridge=p.A.instance}execute(){this.appBridge.shouldRedirectToAppUpdate?this.appBridge.redirectToAppUpdate():(this.setRootClasses(),this.saveUrlParamsKeys(),this.deleteAccessTokenUrlParam(),this.initApp())}setRootClasses(){const e=document.documentElement;if(c.A.isApp&&(e.classList.add("is-app"),e.classList.add("no-header"),(!Number.isInteger(this.appBridge.minVersion)||c.A.appVersion<this.appBridge.minVersion)&&(e.classList.add("is-unsupported"),e.classList.add("is-unsupported-version")),(!Number.isInteger(this.appBridge.minOfflineIssueVersion)||c.A.appVersion<this.appBridge.minOfflineIssueVersion)&&e.classList.add("is-unsupported-offline-issue"),(!Number.isInteger(this.appBridge.minAudioPlaylistVersion)||c.A.appVersion<this.appBridge.minAudioPlaylistVersion)&&e.classList.add("is-unsupported-audio-playlist"),(!Number.isInteger(this.appBridge.minAppNavigationVersion)||c.A.appVersion<this.appBridge.minAppNavigationVersion)&&e.classList.add("is-unsupported-app-navigation"),(!Number.isInteger(this.appBridge.minSubscriptionPlansVersion)||c.A.appVersion<this.appBridge.minSubscriptionPlansVersion)&&e.classList.add("is-unsupported-subscription-plans"),Number.isInteger(this.appBridge.minAppNavigationVersion)&&c.A.appVersion>=this.appBridge.minAppNavigationVersion&&o.A.instance.app&&o.A.instance.app.pageContext&&o.A.instance.app.pageContext.bottomSheet&&o.A.instance.app.pageContext.bottomSheet.isEnabled&&e.classList.add("has-bottom-sheet"),window.navigator.webBridge.globalFontsize(this.appBridge.appFontSize)),u.A.isIOS&&e.classList.add("is-ios"),u.A.isAndroid&&e.classList.add("is-android"),h.A.isSupported||(e.classList.add("is-unsupported"),e.classList.add("is-unsupported-feature")),u.A.isMobile&&e.classList.add("is-mobile"),this.user.isLoggedIn&&e.classList.add("is-logged-in"),this.user.hasConditionalAccess&&e.classList.add("hide-conditional"),this.user.hasPaidAccess&&e.classList.add("has-paid-access"),this.user.hasMeteredAccess&&e.classList.add("has-metered-access"),this.user.hasNoAdsAccess&&e.classList.add("has-noads-access"),this.user.accessInfo&&Object.keys(this.user.accessInfo).forEach((t=>{!0===this.user.accessInfo[t]&&e.classList.add(t)})),u.A.isTablet&&e.classList.add("is-tablet"),(this.route.isIssueArticle||"issue"===this.route.route)&&e.classList.add("is-issue-context"),this.route.route){const t=this.route.route.replace(/\//g,"-");e.classList.add(t)}this.route.isGiftArticle&&e.classList.add("is-gift-article"),o.A.instance.noAds&&e.classList.add("no-ads");const t=o.A.instance.issue&&o.A.instance.issue.storyId?o.A.instance.issue.storyId:"",s=new URLSearchParams(window.location.search),i=t&&!l.A.instance.includes(t),n=t&&s.has("forceStoryLayer","1");(i||n)&&e.classList.add("has-first-paint-overlay")}saveUrlParamsKeys(){if(window.polygon){const e=new URL(document.location);window.polygon.initialUrlSearchParamsKeys=window.polygon.initialUrlSearchParamsKeys||[],e.searchParams.forEach(((e,t)=>{window.polygon.initialUrlSearchParamsKeys.push(t)}))}}deleteAccessTokenUrlParam(){const e=new URL(document.location);e.searchParams.get("accessToken")&&(e.searchParams.delete("accessToken"),window.history.replaceState({},document.title,e.href))}initApp(){if(c.A.isApp){const e=o.A.instance;if(e.app&&e.app.pageContext&&this.appBridge.sendPageContext(e.app.pageContext),!c.A.isIOSApp)return;const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=no")}}}).execute();(new class{execute(){const e=document.head?document.head.querySelector('[data-target-el="head-style"]'):null;if(!e||"function"!=typeof e.appendChild)return;let t;try{t=JSON.parse(e.dataset.settings)}catch(e){return}if(!t||0===Object.keys(t).len)return;const s=w.A.get(g.AZ.saraTargetTeaser.name);let i;if("string"==typeof s&&(i=decodeURIComponent(s).split(":")[0]),!i||!t[i])return;const n=t[i];e.appendChild(document.createTextNode(n))}}).execute()}},e=>{var t;t=864,e(e.s=t)}]);